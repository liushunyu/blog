---
layout:     post
title:      "python 虚拟环境配置"
subtitle:    "python 虚拟环境配置"
date:       2019-08-06
author:     Shunyu
header-img: img/post-bg-2015.jpg
header-mask: 0.1
catalog: true
tags:
    - python
    - anaconda
    - conda
---



先确保自己的用户目录下安装了 anaconda，接下来我们会使用 anaconda 来创建一个属于自己的虚拟环境，这样就不会被其他项目环境所干扰，无论在 mac 还是 linux 下都推荐使用虚拟环境。

注意：anaconda 本身也自带一个 python，不建议直接使用。



## mac 下安装 Anaconda

1. 下载 [Anaconda](https://www.anaconda.com/distribution/)

2. 安装 Anaconda

   ```bash
   bash Anaconda.sh
   ```

3. 配置环境变量（在安装时默认选择配置也可）

   ```bash
   $ vim ~/.bash_profile
   # 修改文件如下
   export PATH="/home/lsy/anaconda3/bin:$PATH"
   ```

注意：在 mac 下这样配置完后执行 conda 命令时会要求你执行 `conda init` 命令，而当你执行了 `conda init` 命令后，conda 会自动在 `~/.bash_profile` 下配置好环境变量，这时其实可以删掉 `~/.bash_profile` 下加入的环境变量。



## 虚拟环境配置

先确保自己的用户目录下安装了 anaconda，接下来我们会使用 anaconda 来创建一个属于自己的虚拟环境，这样就不会被其他项目环境所干扰，无论在 mac 还是 linux 下都推荐使用虚拟环境。

注意：anaconda 本身也自带一个 python，不建议直接使用。



创建虚拟环境

```bash
conda create -n new_env_name python=3.6
# [new_env_name]: 创建的虚拟环境的名字
# [3.6]: 创建虚拟环境的 python 版本号
```



复制虚拟环境

```bash
conda create -n new_env_name --clone old_env_name
# [new_env_name]: 创建的虚拟环境的名字
# [old_env_name]: 被复制的虚拟环境的名字
```



建议：由于创建新的环境比较慢，复制环境比较快，所以你可以先创建一个 python36 的虚拟环境作为基本的，以后每次要开一个新项目环境（如项目环境 question）就从 python36 复制出来用，再在新环境上安装你想要的东西。

```bash
conda create -n python36 python=3.6
conda create -n question --clone python36
```



进入与退出虚拟环境

```bash
# 进入虚拟环境
conda activate env_name
# [env_name]: 虚拟环境的名字

# 退出虚拟环境
conda deactivate
```



当你进入虚拟环境（`conda activate env_name`）之后你这时候无论执行什么命令如 `python ***.py`、`pip install`、`conda install` 都是在这个虚拟环境执行的，用这个环境下的 python 去编译文件，下载包也会下载到当前虚拟环境下。

所以我们每次在命令行执行关于 python 的命令时一定要留意我们当前在哪个环境下。



查看所有的虚拟环境（当前所在的虚拟环境会被打 * 号）

```bash
conda info -e
```



删除虚拟环境

```bash
conda remove -n env_name --all
```



## 参考资料及致谢

[mac下anaconda的安装及简单使用](https://blog.csdn.net/lq_547762983/article/details/81003528)

